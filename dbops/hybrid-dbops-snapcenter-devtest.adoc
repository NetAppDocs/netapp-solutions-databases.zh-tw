---
sidebar: sidebar 
permalink: dbops/hybrid-dbops-snapcenter-devtest.html 
summary: 公有雲的敏捷性、價值實現時間、成本節省都是企業採用公有雲進行資料庫應用程式開發和測試工作的有意義的價值主張。沒有比SnapCenter更好的工具可以快速實現這一目標。 SnapCenter不僅可以保護您的本機生產資料庫，還可以快速複製副本以用於公有雲中的應用程式開發或程式碼測試，同時僅消耗很少的額外儲存空間。以下是使用該工具的逐步過程的詳細資訊。 
keywords: hybrid cloud, database, solutions, dev/test, workflow 
---
= 開發/測試爆發至雲端的工作流程
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
對於採用公有雲進行資料庫應用程式開發和測試工作的企業來說，公有雲的靈活性、價值實現時間和成本節省都是有意義的價值主張。沒有比SnapCenter更好的工具來實現這一目標。 SnapCenter不僅可以在本地保護您的生產資料庫，還可以在公有雲中快速複製副本以用於應用程式開發或程式碼測試，同時僅消耗很少的額外儲存空間。以下是使用此工具的逐步過程的詳細資訊。



== 從複製的快照備份複製 Oracle 資料庫以用於開發/測試

. 使用 Oracle 的資料庫管理使用者 ID 登入SnapCenter 。導覽至「資源」標籤，其中顯示受SnapCenter保護的 Oracle 資料庫。
+
image:snapctr-ora-clone-001.png["此圖顯示輸入/輸出對話框或表示書面內容"]

. 按一下目標本機資料庫名稱以取得備份拓撲和詳細視圖。如果啟用了輔助複製位置，則會顯示連結的鏡像備份。
+
image:snapctr-ora-clone-002.png["此圖顯示輸入/輸出對話框或表示書面內容"]

. 點擊鏡像備份即可切換到鏡像備份視圖。然後顯示輔助鏡像備份。
+
image:snapctr-ora-clone-003.png["此圖顯示輸入/輸出對話框或表示書面內容"]

. 選擇要複製的鏡像輔助資料庫備份副本，並透過時間和系統變更號碼或 SCN 確定復原點。通常，復原點應該落後於要克隆的完整資料庫備份時間或 SCN。確定復原點後，必須安裝所需的日誌檔案備份以進行還原。日誌檔案備份應安裝到要託管克隆資料庫的目標資料庫伺服器。
+
image:snapctr-ora-clone-004.png["此圖顯示輸入/輸出對話框或表示書面內容"]

+
image:snapctr-ora-clone-005.png["此圖顯示輸入/輸出對話框或表示書面內容"]

+

NOTE: 如果啟用了日誌修剪且復原點超出了最後一次日誌修剪，則可能需要安裝多個存檔日誌備份。

. 反白顯示要克隆的完整資料庫備份副本，然後按一下克隆按鈕以啟動 DB 克隆工作流程。
+
image:snapctr-ora-clone-006.png["此圖顯示輸入/輸出對話框或表示書面內容"]

. 為完整的容器資料庫或 CDB 克隆選擇適當的克隆 DB SID。
+
image:snapctr-ora-clone-007.png["此圖顯示輸入/輸出對話框或表示書面內容"]

. 選擇雲端中的目標克隆主機，克隆工作流程建立資料檔案、控制檔案和重做日誌目錄。
+
image:snapctr-ora-clone-008.png["此圖顯示輸入/輸出對話框或表示書面內容"]

. None 憑證名稱用於基於作業系統的身份驗證，這使得資料庫連接埠無關緊要。依照目標複製資料庫伺服器中的設定填寫正確的 Oracle Home、Oracle OS User 和 Oracle OS Group。
+
image:snapctr-ora-clone-009.png["此圖顯示輸入/輸出對話框或表示書面內容"]

. 指定在克隆操作之前要執行的腳本。更重要的是，可以在這裡調整或定義資料庫實例參數。
+
image:snapctr-ora-clone-010.png["此圖顯示輸入/輸出對話框或表示書面內容"]

. 透過日期和時間或 SCN 指定恢復點。直到取消將資料庫還原到可用的存檔日誌。從掛載存檔日誌磁碟區的目標主機指定外部存檔日誌位置。如果目標伺服器 Oracle 擁有者與內部生產伺服器不同，請驗證目標伺服器 Oracle 擁有者是否可以讀取存檔日誌目錄。
+
image:snapctr-ora-clone-011.png["此圖顯示輸入/輸出對話框或表示書面內容"]

+
image:snapctr-ora-clone-012.png["此圖顯示輸入/輸出對話框或表示書面內容"]

. 如果需要，請設定 SMTP 伺服器以接收電子郵件通知。
+
image:snapctr-ora-clone-013.png["此圖顯示輸入/輸出對話框或表示書面內容"]

. 克隆摘要。
+
image:snapctr-ora-clone-014.png["此圖顯示輸入/輸出對話框或表示書面內容"]

. 您應該在克隆後進行驗證，以確保克隆的資料庫可以運行。可以在 dev/test 資料庫上執行一些額外的任務，例如啟動監聽器或關閉 DB 日誌歸檔模式。
+
image:snapctr-ora-clone-015.png["此圖顯示輸入/輸出對話框或表示書面內容"]





== 從複製的快照備份複製用於開發/測試的 SQL 資料庫

. 使用 SQL Server 的資料庫管理使用者 ID 登入SnapCenter 。導覽至「資源」標籤，該標籤顯示受SnapCenter保護的 SQL Sever 使用者資料庫和公有雲中的目標備用 SQL 執行個體。
+
image:snapctr-sql-clone-001.png["此圖顯示輸入/輸出對話框或表示書面內容"]

. 按一下目標本機 SQL Server 使用者資料庫名稱以取得備份拓撲和詳細視圖。如果啟用了輔助複製位置，則會顯示連結的鏡像備份。
+
image:snapctr-sql-clone-002.png["此圖顯示輸入/輸出對話框或表示書面內容"]

. 按一下“鏡像備份”切換到“鏡像備份”視圖。然後顯示輔助鏡像備份。由於SnapCenter將 SQL Server 交易日誌備份到專用磁碟機以進行恢復，因此這裡僅顯示完整的資料庫備份。
+
image:snapctr-sql-clone-003.png["此圖顯示輸入/輸出對話框或表示書面內容"]

. 選擇備份副本，然後按一下「複製」按鈕啟動「從備份複製」工作流程。
+
image:snapctr-sql-clone-004-a.png["此圖顯示輸入/輸出對話框或表示書面內容"]

+
image:snapctr-sql-clone-004.png["此圖顯示輸入/輸出對話框或表示書面內容"]

. 選擇雲端伺服器作為目標克隆伺服器、克隆執行個體名稱、複製資料庫名稱。選擇自動指派掛載點或使用者定義的掛載點路徑。
+
image:snapctr-sql-clone-005.png["此圖顯示輸入/輸出對話框或表示書面內容"]

. 透過日誌備份時間或特定日期和時間來確定復原點。
+
image:snapctr-sql-clone-006.png["此圖顯示輸入/輸出對話框或表示書面內容"]

. 指定在複製操作之前和之後執行的選用腳本。
+
image:snapctr-sql-clone-007.png["此圖顯示輸入/輸出對話框或表示書面內容"]

. 如果需要電子郵件通知，請設定 SMTP 伺服器。
+
image:snapctr-sql-clone-008.png["此圖顯示輸入/輸出對話框或表示書面內容"]

. 克隆摘要。
+
image:snapctr-sql-clone-009.png["此圖顯示輸入/輸出對話框或表示書面內容"]

. 監控作業狀態並驗證目標使用者資料庫是否已附加到雲端複製伺服器中的目標 SQL 執行個體。
+
image:snapctr-sql-clone-010.png["此圖顯示輸入/輸出對話框或表示書面內容"]





== 克隆後配置

. 本機的 Oracle 生產資料庫通常以日誌存檔模式運作。對於開發或測試資料庫來說，此模式不是必需的。若要關閉日誌存檔模式，請以 sysdba 登入 Oracle DB，執行日誌模式變更命令，然後啟動資料庫進行存取。
. 配置 Oracle 偵聽器，或將新複製的資料庫註冊到現有的偵聽器以供使用者存取。
. 對於 SQL Server，將日誌模式從“完整”變更為“簡單”，以便 SQL Server dev/test 日誌檔案在填滿日誌磁碟區時可以輕鬆縮小。




== 刷新克隆資料庫

. 刪除克隆的資料庫並清理雲端資料庫伺服器環境。然後按照前面的步驟克隆一個包含新資料的新資料庫。克隆一個新資料庫只需要幾分鐘。
. 關閉克隆資料庫，使用 CLI 執行克隆刷新指令。有關詳細信息，請參閱以下SnapCenter文件：link:https://docs.netapp.com/us-en/snapcenter/protect-sco/task_refresh_a_clone.html["刷新克隆"^] 。




== 去哪裡尋求協助？

如果您需要有關此解決方案和用例的協助，請加入link:https://netapppub.slack.com/archives/C021R4WC0LC["NetApp解決方案自動化社群支援 Slack 頻道"]並尋找解決方案自動化管道來發布您的問題或詢問。
